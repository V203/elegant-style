"use strict";(()=>{var e={};e.id=270,e.ids=[270],e.modules={1185:e=>{e.exports=require("mongoose")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1334:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>f,originalPathname:()=>v,patchFetch:()=>P,requestAsyncStorage:()=>h,routeModule:()=>g,serverHooks:()=>x,staticGenerationAsyncStorage:()=>y,staticGenerationBailout:()=>w});var o={};a.r(o),a.d(o,{DELETE:()=>p,GET:()=>d,POST:()=>l,PUT:()=>m});var s=a(5419),n=a(9108),r=a(9678),i=a(8840),c=a(6286),u=a(8984);async function d(){try{await (0,i.a)();let e=await c.Z.find({});return u.NextResponse.json({shopItems:e})}catch(e){console.log(e)}}async function l(e){try{let{itemName:t,price:a,category:o}=await e.json();return await (0,i.a)(),await c.Z.create({itemName:t,price:a,category:o}),u.NextResponse.json({message:"Item added to store"},{status:201})}catch(e){console.log(e)}}async function p(e){let t=e.nextUrl.searchParams.get("id");return await (0,i.a)(),await c.Z.findByIdAndDelete(t),u.NextResponse.json({message:"deleted successfully"},{status:201})}async function m(e){try{let t=e.nextUrl.searchParams.get("id");return await (0,i.a)(),await c.Z.findByIdAndDelete(t),u.NextResponse.json({message:"deleted successfully"},{status:201})}catch(e){console.log(e)}}let g=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/shopitems/route",pathname:"/api/shopitems",filename:"route",bundlePath:"app/api/shopitems/route"},resolvedPagePath:"/home/codex-coder/Documents/projects/elegant-style/app/api/shopitems/route.js",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:h,staticGenerationAsyncStorage:y,serverHooks:x,headerHooks:f,staticGenerationBailout:w}=g,v="/api/shopitems/route";function P(){return(0,r.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:y})}},8840:(e,t,a)=>{a.d(t,{a:()=>n});var o=a(1185),s=a.n(o);let n=async()=>{try{await s().connect(process.env.MONGODB_URI),console.log("connected to mongodb")}catch(e){console.log(`Error connecting to mongodb : ${e}`)}}},6286:(e,t,a)=>{a.d(t,{Z:()=>r});var o=a(1185),s=a.n(o);let n=new o.Schema({itemName:{type:String,unique:!0,required:!0},price:{type:Number,required:!0},category:{type:String,required:!0}},{timestamps:!0}),r=s().models.ShopItems||s().model("ShopItems",n)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),o=t.X(0,[638,791],()=>a(1334));module.exports=o})();